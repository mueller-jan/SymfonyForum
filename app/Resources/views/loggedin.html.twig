{% extends 'base.html.twig' %}
{# this view adds a navigation bar that is visible when the user is logged in #}

{% block navigation %}
    <div id="navigation">
        Welcome {{ app.security.getToken().getUser().username }}!
        ({{ app.security.getToken().getUser().getRoles()|first }})
        <form action="{{  path('logout') }}">
             <button type="submit" class="navButton">Logout</button>
         </form>
         <form action="{{ path('show_categories') }}">
             <button type="submit"  class="navButton" >Categories</button>
         </form>
         {% if app.session.get('isInThread') %}
             <form action="{{ path('show_category', {'id':app.session.get('category_id')}) }}">
                 <button type="submit" class="navButton">Threads</button>
             </form>
         {% endif %}

        {% if is_granted('ROLE_ADMIN') %}
            <form  action="{{ path('admin_panel') }}">
                <button id="admin-button" type="submit">Admin Panel</button>
            </form>
        {% endif %}
         <p class="clear"></p>
    </div>
 {% endblock %}

{% block body %}

{% endblock %}